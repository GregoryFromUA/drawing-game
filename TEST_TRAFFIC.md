# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é WebSocket —Ç—Ä–∞—Ñ–∏–∫–∞

## üß™ –¢–µ—Å—Ç 1: –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
```bash
cd /home/user/drawing-game
npm run server
```

**–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:**
```
Server running on port 3001
```

### –®–∞–≥ 2: –ü–æ–¥–æ–∂–¥–∞—Ç—å 60 —Å–µ–∫—É–Ω–¥
–ß–µ—Ä–µ–∑ 60 —Å–µ–∫—É–Ω–¥ **–≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å–µ—Ä–≤–µ—Ä–∞** –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:

```
üìä === TRAFFIC STATS (last 60s) ===
Total sent: 0.00 MB
Messages: 0
Rate: 0.0 KB/sec
Uptime: 1.0 min

Top traffic events:
  (empty)
=====================================
```

–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ —ç—Ç–æ - **–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç!** ‚úÖ

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–ª–∏–µ–Ω—Ç
–í **–Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ**:
```bash
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000` –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

### –®–∞–≥ 4: –°–æ–∑–¥–∞—Ç—å –∏–≥—Ä—É
1. –í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏–≥—Ä–æ–∫–∞
2. –ù–∞–∂–º–∏—Ç–µ "–°—Ç–≤–æ—Ä–∏—Ç–∏ –∫—ñ–º–Ω–∞—Ç—É"
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º **"Unicorn Canvas"**

**–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏:**
```
New connection: abc123def456
Room ABC123 created by player abc123def456
```

### –®–∞–≥ 5: –î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–æ–≤
–û—Ç–∫—Ä–æ–π—Ç–µ 4 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
- –í–∫–ª–∞–¥–∫–∞ 2: –í–≤–µ–¥–∏—Ç–µ –¥—Ä—É–≥–æ–µ –∏–º—è ‚Üí "–ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è" ‚Üí –≤–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∫–æ–º–Ω–∞—Ç—ã
- –í–∫–ª–∞–¥–∫–∞ 3: –¢–æ –∂–µ —Å–∞–º–æ–µ
- –í–∫–ª–∞–¥–∫–∞ 4: –¢–æ –∂–µ —Å–∞–º–æ–µ
- –í–∫–ª–∞–¥–∫–∞ 5: –¢–æ –∂–µ —Å–∞–º–æ–µ

–í—Å–µ–≥–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å **5 –∏–≥—Ä–æ–∫–æ–≤**.

### –®–∞–≥ 6: –ù–∞—á–∞—Ç—å –∏–≥—Ä—É –∏ —Ä–∏—Å–æ–≤–∞—Ç—å
1. –í—Å–µ –∏–≥—Ä–æ–∫–∏ –Ω–∞–∂–∏–º–∞—é—Ç "–ì–æ—Ç–æ–≤–∏–π"
2. –•–æ—Å—Ç –Ω–∞–∂–∏–º–∞–µ—Ç "–ü–æ—á–∞—Ç–∏ –≥—Ä—É"
3. –í—ã–±–∏—Ä–∞–π—Ç–µ —Ç–µ–º—ã –∏ –≥–æ–ª–æ—Å—É–π—Ç–µ
4. –ö–æ–≥–¥–∞ –Ω–∞—á–Ω—ë—Ç—Å—è —Ä–∏—Å–æ–≤–∞–Ω–∏–µ - **–∞–∫—Ç–∏–≤–Ω–æ —Ä–∏—Å—É–π—Ç–µ 2 –º–∏–Ω—É—Ç—ã**

### –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
**–ß–µ—Ä–µ–∑ 60 —Å–µ–∫—É–Ω–¥ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å–µ—Ä–≤–µ—Ä–∞:**

```
üìä === TRAFFIC STATS (last 60s) ===
Total sent: 0.25 MB        ‚Üê –î–æ–ª–∂–Ω–æ –±—ã—Ç—å < 1 MB ‚úÖ
Messages: 458
Rate: 4.2 KB/sec           ‚Üê –î–æ–ª–∂–Ω–æ –±—ã—Ç—å < 50 KB/sec ‚úÖ
Uptime: 3.5 min

Top traffic events:
  drawing_strokes_added: 120 KB (280 msgs)   ‚Üê –î–æ–ª–∂–Ω–æ –±—ã—Ç—å < 500 KB ‚úÖ
  next_turn: 85 KB (45 msgs)
  player_joined: 40 KB (8 msgs)
=====================================
```

### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:
- ‚úÖ `Rate` < 50 KB/sec
- ‚úÖ `Total sent` < 1 MB –∑–∞ 60 —Å–µ–∫—É–Ω–¥
- ‚úÖ `drawing_strokes_added` < 500 KB
- ‚úÖ **–ù–ï–¢** –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π `‚ö†Ô∏è LARGE MESSAGE`

### ‚ùå –ü—Ä–∏–∑–Ω–∞–∫–∏ –ø—Ä–æ–±–ª–µ–º—ã:
- ‚ùå `Rate` > 500 KB/sec
- ‚ùå `Total sent` > 10 MB –∑–∞ 60 —Å–µ–∫—É–Ω–¥
- ‚ùå `drawing_strokes_added` > 5 MB
- ‚ùå **–ï–°–¢–¨** –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è `‚ö†Ô∏è LARGE MESSAGE: drawing_strokes_added = 150.5 KB`

---

## üß™ –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ Production (Render.com)

### –®–∞–≥ 1: –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
```bash
git push origin claude/explore-codebase-011CUzGtr3bst2oKoLedwy3S
```

### –®–∞–≥ 2: –û—Ç–∫—Ä—ã—Ç—å Render.com
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://dashboard.render.com
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à —Å–µ—Ä–≤–∏—Å `drawing-game`
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ

### –®–∞–≥ 3: –û—Ç–∫—Ä—ã—Ç—å –ª–æ–≥–∏
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Logs"**
2. –í–∫–ª—é—á–∏—Ç–µ **"Live tail"** (–∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)

### –®–∞–≥ 4: –ò–≥—Ä–∞—Ç—å –≤ –∏–≥—Ä—É
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à production URL (–Ω–∞–ø—Ä–∏–º–µ—Ä `https://drawing-game.onrender.com`)
2. –°–æ–∑–¥–∞–π—Ç–µ –∏–≥—Ä—É —Å 5 –∏–≥—Ä–æ–∫–∞–º–∏ (–º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å 5 –≤–∫–ª–∞–¥–æ–∫)
3. –ê–∫—Ç–∏–≤–Ω–æ —Ä–∏—Å—É–π—Ç–µ 2-3 –º–∏–Ω—É—Ç—ã

### –®–∞–≥ 5: –ù–∞–±–ª—é–¥–∞—Ç—å –ª–æ–≥–∏
–í **Render.com Logs** –≤—ã —É–≤–∏–¥–∏—Ç–µ –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥:

```
Nov 10 02:24:45 PM  üìä === TRAFFIC STATS (last 60s) ===
Nov 10 02:24:45 PM  Total sent: 0.32 MB
Nov 10 02:24:45 PM  Messages: 512
Nov 10 02:24:45 PM  Rate: 5.4 KB/sec
Nov 10 02:24:45 PM  Uptime: 15.2 min
Nov 10 02:24:45 PM
Nov 10 02:24:45 PM  Top traffic events:
Nov 10 02:24:45 PM    drawing_strokes_added: 180 KB (320 msgs)
Nov 10 02:24:45 PM    next_turn: 95 KB (50 msgs)
Nov 10 02:24:45 PM    player_ready_changed: 45 KB (25 msgs)
Nov 10 02:24:45 PM  =====================================
```

---

## üîç –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –º–µ—Ç—Ä–∏–∫

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –•–æ—Ä–æ—à–æ | –ü–ª–æ—Ö–æ | –ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç |
|---------|----------|--------|-------|------------------|
| **Total sent** | MB | < 1 MB | > 10 MB | –û–±—â–∏–π –æ–±—ä—ë–º –¥–∞–Ω–Ω—ã—Ö –∑–∞ 60 —Å–µ–∫ |
| **Messages** | —á–∏—Å–ª–æ | –ª—é–±–æ–µ | - | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ WebSocket —Å–æ–æ–±—â–µ–Ω–∏–π |
| **Rate** | KB/sec | < 50 | > 500 | –°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏ |
| **Uptime** | min | –ª—é–±–æ–µ | - | –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞ |

### Top traffic events:
- **drawing_strokes_added** - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —à—Ç—Ä–∏—Ö–æ–≤ —Ä–∏—Å–æ–≤–∞–Ω–∏—è
- **next_turn** - —Å–º–µ–Ω–∞ —Ö–æ–¥–∞ –≤ Unicorn Canvas
- **player_joined** - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤

---

## üö® –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –º–µ—Ç—Ä–∏–∫–∏ –ø–ª–æ—Ö–∏–µ?

### –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `‚ö†Ô∏è LARGE MESSAGE`:
```
‚ö†Ô∏è  LARGE MESSAGE: drawing_strokes_added = 150.5 KB to room ABC123
```

**–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:** –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (>10KB)

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –±—ã–ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
2. –°—Ç–∞—Ä—ã–π –∫–ª–∏–µ–Ω—Ç –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è –∫ –Ω–æ–≤–æ–º—É —Å–µ—Ä–≤–µ—Ä—É
3. –ï—Å—Ç—å –¥—Ä—É–≥–∞—è —É—Ç–µ—á–∫–∞ –¥–∞–Ω–Ω—ã—Ö

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ–±–Ω–æ–≤–∏–ª–∏ –∏ —Å–µ—Ä–≤–µ—Ä, –∏ –∫–ª–∏–µ–Ω—Ç
2. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+R)
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

### –ï—Å–ª–∏ Rate > 500 KB/sec:
**–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:** –¢—Ä–∞—Ñ–∏–∫ –≤—Å—ë –µ—â—ë –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥ –≤ `server.js:1747, 1774` - —Ç–∞–º –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `sharedDrawing`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥ –≤ `server.js:1256` - —Ç–∞–º –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `sharedDrawing`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª–∏–µ–Ω—Ç –æ–±–Ω–æ–≤–ª—ë–Ω (`src/App.jsx:297`)

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –î–æ/–ü–æ—Å–ª–µ

### –î–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–ø—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥):
```
üìä === TRAFFIC STATS (last 60s) ===
Total sent: 120.50 MB     ‚Üê –ü–õ–û–•–û! –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ!
Messages: 1250
Rate: 2008.3 KB/sec       ‚Üê –ü–õ–û–•–û! ~2 MB/sec
Uptime: 5.0 min

Top traffic events:
  drawing_strokes_added: 115.2 MB (1200 msgs)  ‚Üê –ü–õ–û–•–û! –û–≥—Ä–æ–º–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫!
  next_turn: 3.8 MB (20 msgs)
  player_joined: 1.5 MB (30 msgs)
=====================================

‚ö†Ô∏è  LARGE MESSAGE: drawing_strokes_added = 98.5 KB to room ABC123
‚ö†Ô∏è  LARGE MESSAGE: drawing_strokes_added = 102.1 KB to room ABC123
‚ö†Ô∏è  LARGE MESSAGE: drawing_strokes_added = 95.8 KB to room ABC123
```

### –ü–û–°–õ–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–æ–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç):
```
üìä === TRAFFIC STATS (last 60s) ===
Total sent: 0.25 MB       ‚Üê –•–û–†–û–®–û! –í 480 —Ä–∞–∑ –º–µ–Ω—å—à–µ!
Messages: 458
Rate: 4.2 KB/sec          ‚Üê –•–û–†–û–®–û! –í 480 —Ä–∞–∑ –º–µ–Ω—å—à–µ!
Uptime: 5.0 min

Top traffic events:
  drawing_strokes_added: 120 KB (280 msgs)    ‚Üê –•–û–†–û–®–û! –í 960 —Ä–∞–∑ –º–µ–Ω—å—à–µ!
  next_turn: 85 KB (45 msgs)
  player_joined: 40 KB (8 msgs)
=====================================

(–ù–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π)
```

---

## üí° –°–æ–≤–µ—Ç—ã –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

1. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∞–∫—Ç–∏–≤–Ω–æ–µ —Ä–∏—Å–æ–≤–∞–Ω–∏–µ** - —á–µ–º –±–æ–ª—å—à–µ —Ä–∏—Å—É–µ—Ç–µ, —Ç–µ–º –±–æ–ª—å—à–µ —Ç—Ä–∞—Ñ–∏–∫–∞
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ 5 –∏–≥—Ä–æ–∫–æ–≤** - —Ç–∞–∫ –≤—ã —É–≤–∏–¥–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É
3. **–†–∏—Å—É–π—Ç–µ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ 2-3 –º–∏–Ω—É—Ç—ã** - —á—Ç–æ–±—ã –Ω–∞–±—Ä–∞—Ç—å 1000+ —à—Ç—Ä–∏—Ö–æ–≤
4. **–°–ª–µ–¥–∏—Ç–µ –∑–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º —Å–µ—Ä–≤–µ—Ä–∞** - —Ç–∞–º –≤—Å—ë –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ 2-3 –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞** (2-3 –º–∏–Ω—É—Ç—ã) - —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è –≤ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

---

–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è: 2025-11-10
–ê–≤—Ç–æ—Ä: Claude Code Agent
